#!/bin/sh

#Theme Changing script Don't use this if u don't know what it is doing
#You need to disable password prompt at sudo for this script to work
opt="$(echo "tea\nlake\nforest\npywal" | rofi -dmenu)"
cmd() {
  cd $HOME/dot-files/
  stow -D Bspwm:\ tea
  stow -D Bspwm:\ lake
  stow -D Bspwm:\ pywal
  stow -D Bspwm:\ forest
  stow -D Bspwm:\ *
  stow Bspwm:\ $opt
  wal -i $HOME/Wallpapers/$opt.* -o wal-set
  xrdb -remove
  xrdb $HOME/xrdb/$opt/$opt
  sudo cp $HOME/Wallpapers/$opt.* /boot/grub/themes/Ettery/background.png
  bspc wm -r
  sudo pkill -USR1 st 
  killall dunst
  dunst &
  sleep 1
  notify-send "Theme Changed to $opt" -i $HOME/Wallpapers/$opt.* -t 3000;
}
pywal() {
  xrdb -remove
  cd $HOME/dot-files/
  stow -D Bspwm:\ tea
  stow -D Bspwm:\ lake
  stow -D Bspwm:\ pywal
  stow -D Bspwm:\ forest
  stow -D Bspwm:\ *
  stow Bspwm:\ pywal
  $HOME/bin/rofi-wal
}
case $opt in
  tea) cmd ;;
  lake) cmd ;;
  pywal) pywal ;;
  forest) cmd ;;
esac
